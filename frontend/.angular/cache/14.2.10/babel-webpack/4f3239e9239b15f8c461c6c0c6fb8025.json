{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet Tab2Page = class Tab2Page {\n  constructor(formBuilder, recipeService, photoService, router) {\n    this.formBuilder = formBuilder;\n    this.recipeService = recipeService;\n    this.photoService = photoService;\n    this.router = router;\n    this.isSubmitted = false;\n    this.capturedPhoto = '';\n  }\n  ionViewWillEnter() {\n    this.recipeForm.reset();\n    this.isSubmitted = false;\n    this.capturedPhoto = '';\n  }\n  ngOnInit() {\n    this.recipeForm = this.formBuilder.group({\n      name: ['', [Validators.required]],\n      category: ['', [Validators.required]]\n    });\n  }\n  // eslint-disable-next-line @typescript-eslint/member-ordering\n  get errorControl() {\n    return this.recipeForm.controls;\n  }\n  takePhoto() {\n    this.photoService.takePhoto().then(data => {\n      try {\n        this.capturedPhoto = data.webPath;\n      } catch (e) {\n        console.log('Imagen descartada al tomar foto');\n        this.capturedPhoto = null;\n      }\n    });\n  }\n  pickImage() {\n    this.photoService.pickImage().then(data => {\n      this.capturedPhoto = data.webPath;\n    });\n  }\n  discardImage() {\n    this.capturedPhoto = null;\n  }\n  submitForm() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.isSubmitted = true;\n      if (!this.recipeForm.valid) {\n        console.log('Please provide all the required values!');\n        return false;\n      } else {\n        let blob = null;\n        if (this.capturedPhoto !== '') {\n          const response = yield fetch(this.capturedPhoto);\n          blob = yield response.blob();\n        }\n        /*    this.recipeService.createRecipe(this.recipeForm.value, blob).subscribe(data => {\r\n              console.log('Â¡Photo sent!');\r\n              this.router.navigateByUrl('tabs//tab1');\r\n            });*/\n      }\n    });\n  }\n};\n\nTab2Page = __decorate([Component({\n  selector: 'app-add',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})], Tab2Page);\nexport { Tab2Page };","map":null,"metadata":{},"sourceType":"module"}