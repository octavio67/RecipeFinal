{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/recipe.service\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@ionic/storage\";\nimport * as i6 from \"@angular/common\";\nfunction YouAreLoggedInPage_ion_item_8_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 10);\n  }\n  if (rf & 2) {\n    const recipe_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate1(\"src\", \"http://192.168.50.153:4000/images/\", recipe_r1.filename, \"\", i0.ɵɵsanitizeUrl);\n  }\n}\nfunction YouAreLoggedInPage_ion_item_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-avatar\", 6);\n    i0.ɵɵtemplate(2, YouAreLoggedInPage_ion_item_8_img_2_Template, 1, 1, \"img\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-label\")(4, \"h1\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-buttons\")(9, \"ion-button\", 8);\n    i0.ɵɵlistener(\"click\", function YouAreLoggedInPage_ion_item_8_Template_ion_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const recipe_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.updateRecipe(recipe_r1.id));\n    });\n    i0.ɵɵelement(10, \"ion-icon\", 9);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const recipe_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", recipe_r1.filename);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(recipe_r1.tittle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(recipe_r1.category);\n  }\n}\n//import { User } from '../auth/user';\n// import { timeStamp } from 'console';\nexport let YouAreLoggedInPage = /*#__PURE__*/(() => {\n  class YouAreLoggedInPage {\n    constructor(authService, router, activatedRoute, recipeService, alertController, storage) {\n      this.authService = authService;\n      this.router = router;\n      this.activatedRoute = activatedRoute;\n      this.recipeService = recipeService;\n      this.alertController = alertController;\n      this.storage = storage;\n      this.recipes = [];\n      //  this.userId = this.activatedRoute.snapshot.paramMap.get('userId');\n      this.id = this.activatedRoute.snapshot.paramMap.get('id');\n      // this.username_user = this.storage.get('username_user_st');\n    }\n\n    ngOnInit() {\n      this.getAllRecipes();\n      // let userId = this.storage.set(\"idUser\", this.user.userId);\n    }\n\n    ionViewDidEnter() {\n      this.getAllRecipes();\n    }\n    getAllRecipes() {\n      return __awaiter(this, void 0, void 0, function* () {\n        let token = yield this.storage.get(\"token\");\n        this.recipeService.getRecipes(token).subscribe(res => __awaiter(this, void 0, void 0, function* () {\n          console.log(res);\n          this.recipes = res;\n        }), error => {\n          console.log(error);\n          console.log(\"User not authenticated. Please log in\");\n          this.router.navigateByUrl(\"/home\");\n        });\n      });\n    }\n    logout() {\n      this.authService.logout().then(() => {\n        this.router.navigateByUrl(\"/home\");\n      });\n    }\n    /*  async deleteRecipe(id) {\r\n        const alert = await this.alertController.create({\r\n          header: 'Cuidado!',\r\n          subHeader: 'La Receta con id:' + id + ' será eliminada',\r\n          cssClass: 'custom-alert',\r\n          buttons: [\r\n            {\r\n              text: 'Cancel',\r\n              role: 'cancel',\r\n              cssClass: 'alert-button-cancel',\r\n              handler: () => {\r\n                console.log('Alert canceled');\r\n              },\r\n            },\r\n            {\r\n              text: 'OK',\r\n              role: 'confirm',\r\n              cssClass: 'alert-button-confirm',\r\n              handler: () => {\r\n                this.recipeService.deleteRecipe(id).subscribe(() => {\r\n                  console.log('Receta con id:' + id + ' borrada');\r\n                  this.ionViewDidEnter();\r\n                });\r\n              },\r\n            },\r\n          ],\r\n        });\r\n        await alert.present();\r\n      }*/\n    updateRecipe(id) {\n      this.ionViewDidEnter();\n      this.router.navigateByUrl(`/update-recipe/${id}`);\n    }\n    addRecipe() {\n      this.ionViewDidEnter();\n      this.router.navigateByUrl('/add-recipe');\n    }\n  }\n  YouAreLoggedInPage.ɵfac = function YouAreLoggedInPage_Factory(t) {\n    return new (t || YouAreLoggedInPage)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.RecipeService), i0.ɵɵdirectiveInject(i4.AlertController), i0.ɵɵdirectiveInject(i5.Storage));\n  };\n  YouAreLoggedInPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: YouAreLoggedInPage,\n    selectors: [[\"app-you-are-logged-in\"]],\n    decls: 12,\n    vars: 3,\n    consts: [[3, \"translucent\"], [1, \"my_button\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"vertical\", \"bottom\", \"horizontal\", \"end\", \"slot\", \"fixed\"], [3, \"click\"], [\"name\", \"add-outline\"], [\"slot\", \"start\"], [\"alt\", \"image\", 3, \"src\", 4, \"ngIf\"], [\"color\", \"secondary\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"create-outline\"], [\"alt\", \"image\", 3, \"src\"]],\n    template: function YouAreLoggedInPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n        i0.ɵɵtext(3);\n        i0.ɵɵelementStart(4, \"ion-button\", 1);\n        i0.ɵɵlistener(\"click\", function YouAreLoggedInPage_Template_ion_button_click_4_listener() {\n          return ctx.logout();\n        });\n        i0.ɵɵtext(5, \"Log out\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(6, \"ion-content\")(7, \"ion-list\");\n        i0.ɵɵtemplate(8, YouAreLoggedInPage_ion_item_8_Template, 11, 3, \"ion-item\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"ion-fab\", 3)(10, \"ion-fab-button\", 4);\n        i0.ɵɵlistener(\"click\", function YouAreLoggedInPage_Template_ion_fab_button_click_10_listener() {\n          return ctx.addRecipe();\n        });\n        i0.ɵɵelement(11, \"ion-icon\", 5);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"translucent\", true);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" You are logged in \", ctx.username_user, \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.recipes);\n      }\n    },\n    dependencies: [i6.NgForOf, i6.NgIf, i4.IonAvatar, i4.IonButton, i4.IonButtons, i4.IonContent, i4.IonFab, i4.IonFabButton, i4.IonHeader, i4.IonIcon, i4.IonItem, i4.IonLabel, i4.IonList, i4.IonTitle, i4.IonToolbar],\n    styles: [\"#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.my_button[_ngcontent-%COMP%]{position:fixed;right:0;font-size:16px;line-height:22px;color:#8c8c8c;margin:0}\"]\n  });\n  return YouAreLoggedInPage;\n})();","map":null,"metadata":{},"sourceType":"module"}