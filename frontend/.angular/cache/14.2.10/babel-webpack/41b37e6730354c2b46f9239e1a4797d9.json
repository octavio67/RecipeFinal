{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\n//import { User } from '../auth/user';\n// import { timeStamp } from 'console';\nlet YouAreLoggedInPage = class YouAreLoggedInPage {\n  constructor(authService, router, activatedRoute, recipeService, alertController, storage) {\n    this.authService = authService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.recipeService = recipeService;\n    this.alertController = alertController;\n    this.storage = storage;\n    this.recipes = [];\n    //  this.userId = this.activatedRoute.snapshot.paramMap.get('userId');\n    this.id = this.activatedRoute.snapshot.paramMap.get('id');\n    this.username_user = this.storage.get('username_user_st');\n  }\n  ngOnInit() {\n    this.getAllRecipes();\n    // let userId = this.storage.set(\"idUser\", this.user.userId);\n  }\n\n  ionViewDidEnter() {\n    this.getAllRecipes();\n  }\n  getAllRecipes() {\n    return __awaiter(this, void 0, void 0, function* () {\n      let token = yield this.storage.get(\"token\");\n      this.recipeService.getRecipes(token).subscribe(res => __awaiter(this, void 0, void 0, function* () {\n        console.log(res);\n        this.recipes = res;\n      }), error => {\n        console.log(error);\n        console.log(\"User not authenticated. Please log in\");\n        this.router.navigateByUrl(\"/home\");\n      });\n    });\n  }\n  logout() {\n    this.authService.logout().then(() => {\n      this.router.navigateByUrl(\"/home\");\n    });\n  }\n  /*  async deleteRecipe(id) {\r\n      const alert = await this.alertController.create({\r\n        header: 'Cuidado!',\r\n        subHeader: 'La Receta con id:' + id + ' serÃ¡ eliminada',\r\n        cssClass: 'custom-alert',\r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            role: 'cancel',\r\n            cssClass: 'alert-button-cancel',\r\n            handler: () => {\r\n              console.log('Alert canceled');\r\n            },\r\n          },\r\n          {\r\n            text: 'OK',\r\n            role: 'confirm',\r\n            cssClass: 'alert-button-confirm',\r\n            handler: () => {\r\n              this.recipeService.deleteRecipe(id).subscribe(() => {\r\n                console.log('Receta con id:' + id + ' borrada');\r\n                this.ionViewDidEnter();\r\n              });\r\n            },\r\n          },\r\n        ],\r\n      });\r\n      await alert.present();\r\n    }*/\n  updateRecipe(id) {\n    this.ionViewDidEnter();\n    this.router.navigateByUrl(`/update-recipe/${id}`);\n  }\n  addRecipe() {\n    this.ionViewDidEnter();\n    this.router.navigateByUrl('/add-recipe');\n  }\n};\nYouAreLoggedInPage = __decorate([Component({\n  selector: 'app-you-are-logged-in',\n  templateUrl: './you-are-logged-in.page.html',\n  styleUrls: ['./you-are-logged-in.page.scss']\n})], YouAreLoggedInPage);\nexport { YouAreLoggedInPage };","map":null,"metadata":{},"sourceType":"module"}